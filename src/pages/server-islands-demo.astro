---
import Layout from '../layouts/Layout.astro';
import ServerData from '../components/ServerData.astro';
import ServerLoadingFallback from '../components/ServerLoadingFallback.astro';
---

<Layout title="Server Islands Demo">
  <main class="container mx-auto p-4 max-w-4xl flex flex-col items-center justify-center min-h-screen">
    <h1 class="text-4xl font-bold mb-8 text-center">Astro Server Islands Demo</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full">
      <!-- Server-rendered content section with server:defer -->
      <ServerData server:defer>
        <ServerLoadingFallback 
          slot="fallback"
          title="Server-Rendered Data"
          message="Loading server data..."
          fields={[
            { label: "Random Number", width: "sm" },
            { label: "Server Time", width: "lg" },
            { label: "Your User Agent", width: "full" },
            { label: "User Data", width: "full" }
          ]}
        />
      </ServerData>
    </div>
    <div class="mt-8 text-center">
      <a href="/" class="text-blue-500 hover:underline">Back to Home</a>
    </div>
  </main>
</Layout>

